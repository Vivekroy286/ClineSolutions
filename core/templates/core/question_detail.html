{% extends 'core/base.html' %} {% block title %}Question Detail - ClineSolution{% endblock %} {% block content %}
<h1>Question</h1>
<div>
    <p>{{ question.text }}</p>
    <p>Asked by: {{ question.user.username }} on {{ question.created_at }}</p>
</div>

<h2>Answers</h2>
{% for answer in answers %}
<div>
    <p>{{ answer.text }}</p>
    <p>Answered by: {{ answer.user.username }} on {{ answer.created_at }}</p>
    <form action="{% url 'like_answer' answer.id %}" method="post">
        {% csrf_token %}
        <button type="submit">
                    {% if user in answer.likes.all %}
                        Unlike
                    {% else %}
                        Like
                    {% endif %}
                </button>
        <span>{{ answer.total_likes }} like{{ answer.total_likes|pluralize }}</span>
    </form>
</div>
{% empty %}
<p>No answers have been posted yet.</p>
{% endfor %}

<h2>Your Answer</h2>
<form method="post">
    {% csrf_token %} {{ form.as_p }}
    <button type="submit">Post Answer</button>
</form>
{% endblock %}